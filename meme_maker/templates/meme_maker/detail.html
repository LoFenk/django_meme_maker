{% extends meme_maker_base_template|default:"meme_maker/base.html" %}
{% load static %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'meme_maker/css/meme_maker.css' %}">
{% endblock %}

{% block header_title %}Your Meme{% endblock %}
{% block header_subtitle %}Meme #{{ meme.pk }}{% endblock %}

{% block content %}
{% include "meme_maker/partials/nav.html" %}

<div class="meme-display">
    <div class="meme-display-wrapper">
        <img src="{{ meme.image.url }}" alt="Meme #{{ meme.pk }}" class="meme-image" id="memeImage">
            {% if meme.top_text %}
        <div class="meme-text-overlay meme-text-top">{{ meme.top_text }}</div>
            {% endif %}
            {% if meme.bottom_text %}
        <div class="meme-text-overlay meme-text-bottom">{{ meme.bottom_text }}</div>
            {% endif %}
    </div>
        </div>

        <div class="meme-info">
    <p class="meme-info-text">
        <strong>Created:</strong> {{ meme.created_at|date:"F d, Y g:i A" }}
    </p>
    {% if meme.top_text %}
    <p class="meme-info-text"><strong>Top text:</strong> {{ meme.top_text }}</p>
    {% endif %}
    {% if meme.bottom_text %}
    <p class="meme-info-text"><strong>Bottom text:</strong> {{ meme.bottom_text }}</p>
    {% endif %}
    
    <div style="margin-top: 1.5rem; display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
        <a href="{% url 'meme_maker:create' %}" class="meme-btn">
            Create Another â†’
        </a>
        <a href="{{ meme.image.url }}" download class="meme-btn meme-btn-secondary">
            Download Image
        </a>
    </div>
</div>
{% endblock %}
